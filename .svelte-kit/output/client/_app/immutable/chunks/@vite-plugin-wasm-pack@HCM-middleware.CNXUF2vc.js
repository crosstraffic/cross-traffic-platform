let r;const f=new Array(128).fill(void 0);f.push(void 0,null,!0,!1);let F=f.length;function a(e){F===f.length&&f.push(f.length+1);const t=F;return F=f[t],f[t]=e,t}function i(e){return f[e]}function V(e){e<132||(f[e]=F,F=e)}function b(e){const t=i(e);return V(e),t}const z=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&z.decode();let y=null;function k(){return(y===null||y.byteLength===0)&&(y=new Uint8Array(r.memory.buffer)),y}function M(e,t){return e=e>>>0,z.decode(k().subarray(e,e+t))}function h(e){return e==null}let v=null;function X(){return(v===null||v.byteLength===0)&&(v=new BigInt64Array(r.memory.buffer)),v}let A=null;function w(){return(A===null||A.byteLength===0)&&(A=new Int32Array(r.memory.buffer)),A}function I(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const s=e.description;return s==null?"Symbol":`Symbol(${s})`}if(t=="function"){const s=e.name;return typeof s=="string"&&s.length>0?`Function(${s})`:"Function"}if(Array.isArray(e)){const s=e.length;let o="[";s>0&&(o+=I(e[0]));for(let g=1;g<s;g++)o+=", "+I(e[g]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let _;if(n.length>1)_=n[1];else return toString.call(e);if(_=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:_}let l=0;const x=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Y=typeof x.encodeInto=="function"?function(e,t){return x.encodeInto(e,t)}:function(e,t){const n=x.encode(e);return t.set(n),{read:e.length,written:n.length}};function E(e,t,n){if(n===void 0){const c=x.encode(e),u=t(c.length,1)>>>0;return k().subarray(u,u+c.length).set(c),l=c.length,u}let _=e.length,s=t(_,1)>>>0;const o=k();let g=0;for(;g<_;g++){const c=e.charCodeAt(g);if(c>127)break;o[s+g]=c}if(g!==_){g!==0&&(e=e.slice(g)),s=n(s,_,_=g+e.length*3,1)>>>0;const c=k().subarray(s+g,s+_),u=Y(e,c);g+=u.written,s=n(s,_,g,1)>>>0}return l=g,s}let j=null;function O(){return(j===null||j.byteLength===0)&&(j=new Float64Array(r.memory.buffer)),j}function W(e,t){try{return e.apply(this,t)}catch(n){r.__wbindgen_exn_store(a(n))}}let S=null;function Z(){return(S===null||S.byteLength===0)&&(S=new Uint32Array(r.memory.buffer)),S}function U(e,t){const n=t(e.length*4,4)>>>0,_=Z();for(let s=0;s<e.length;s++)_[n/4+s]=a(e[s]);return l=e.length,n}function p(e,t){return e=e>>>0,O().subarray(e/8,e/8+t)}const tt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_wasmsegment_free(e>>>0));class R{static __unwrap(t){return t instanceof R?t.__destroy_into_raw():0}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,tt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_wasmsegment_free(t)}constructor(t,n,_,s,o,g,c,u,d,m,L,B,$,C,N,D,q,H,J,P){const G=U(C,r.__wbindgen_malloc),K=l,Q=r.wasmsegment_new(t,n,_,s,o,g,c,u,d,m,L,B,$,G,K,N,D,q,H,J,P);return this.__wbg_ptr=Q>>>0,this}subsegs_to_js_value(){const t=r.wasmsegment_get_subsegments(this.__wbg_ptr);return b(t)}to_js_value(){const t=r.wasmsegment_to_js_value(this.__wbg_ptr);return b(t)}get_passing_type(){return r.wasmsegment_get_passing_type(this.__wbg_ptr)>>>0}get_length(){return r.wasmsegment_get_length(this.__wbg_ptr)}get_grade(){return r.wasmsegment_get_grade(this.__wbg_ptr)}get_spl(){return r.wasmsegment_get_spl(this.__wbg_ptr)}get_is_hc(){return r.wasmsegment_get_is_hc(this.__wbg_ptr)!==0}get_volume(){return r.wasmsegment_get_volume(this.__wbg_ptr)}get_volume_op(){return r.wasmsegment_get_volume_op(this.__wbg_ptr)}get_flow_rate(){return r.wasmsegment_get_flow_rate(this.__wbg_ptr)}get_flow_rate_o(){return r.wasmsegment_get_flow_rate_o(this.__wbg_ptr)}get_capacity(){return r.wasmsegment_get_capacity(this.__wbg_ptr)}get_ffs(){return r.wasmsegment_get_ffs(this.__wbg_ptr)}get_avg_speed(){return r.wasmsegment_get_avg_speed(this.__wbg_ptr)}get_subsegments(){const t=r.wasmsegment_get_subsegments(this.__wbg_ptr);return b(t)}get_vertical_class(){return r.wasmsegment_get_vertical_class(this.__wbg_ptr)}get_phf(){return r.wasmsegment_get_phf(this.__wbg_ptr)}get_phv(){return r.wasmsegment_get_phv(this.__wbg_ptr)}get_percent_followers(){return r.wasmsegment_get_percent_followers(this.__wbg_ptr)}get_followers_density(){return r.wasmsegment_get_followers_density(this.__wbg_ptr)}get_followers_density_mid(){return r.wasmsegment_get_followers_density_mid(this.__wbg_ptr)}get_hor_class(){return r.wasmsegment_get_hor_class(this.__wbg_ptr)}}const et=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_wasmsubsegment_free(e>>>0));class T{static __unwrap(t){return t instanceof T?t.__destroy_into_raw():0}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,et.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_wasmsubsegment_free(t)}constructor(t,n,_,s,o){const g=r.wasmsubsegment_new(t,n,_,s,o);return this.__wbg_ptr=g>>>0,this}to_js_value(){const t=r.wasmsubsegment_to_js_value(this.__wbg_ptr);return b(t)}get_length(){return r.wasmsegment_get_length(this.__wbg_ptr)}get_avg_speed(){return r.wasmsegment_get_grade(this.__wbg_ptr)}get_hor_class(){return r.wasmsubsegment_get_hor_class(this.__wbg_ptr)}get_design_rad(){return r.wasmsegment_get_spl(this.__wbg_ptr)}get_sup_ele(){return r.wasmsegment_get_volume(this.__wbg_ptr)}}const nt=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_wasmtwolanehighways_free(e>>>0));class ot{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,nt.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_wasmtwolanehighways_free(t)}constructor(t,n,_,s,o,g){const c=U(t,r.__wbindgen_malloc),u=l,d=r.wasmtwolanehighways_new(c,u,n,_,s,o,g);return this.__wbg_ptr=d>>>0,this}segs_to_js_value(){const t=r.wasmtwolanehighways_get_segments(this.__wbg_ptr);return b(t)}get_segments(){const t=r.wasmtwolanehighways_get_segments(this.__wbg_ptr);return b(t)}identify_vertical_class(t){try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.wasmtwolanehighways_identify_vertical_class(o,this.__wbg_ptr,t);var n=w()[o/4+0],_=w()[o/4+1],s=p(n,_).slice();return r.__wbindgen_free(n,_*8,8),s}finally{r.__wbindgen_add_to_stack_pointer(16)}}determine_demand_flow(t){try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.wasmtwolanehighways_determine_demand_flow(o,this.__wbg_ptr,t);var n=w()[o/4+0],_=w()[o/4+1],s=p(n,_).slice();return r.__wbindgen_free(n,_*8,8),s}finally{r.__wbindgen_add_to_stack_pointer(16)}}determine_vertical_alignment(t){return r.wasmtwolanehighways_determine_vertical_alignment(this.__wbg_ptr,t)}determine_free_flow_speed(t){return r.wasmtwolanehighways_determine_free_flow_speed(this.__wbg_ptr,t)}estimate_average_speed(t){try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.wasmtwolanehighways_estimate_average_speed(o,this.__wbg_ptr,t);var n=w()[o/4+0],_=w()[o/4+1],s=p(n,_).slice();return r.__wbindgen_free(n,_*8,8),s}finally{r.__wbindgen_add_to_stack_pointer(16)}}estimate_percent_followers(t){return r.wasmtwolanehighways_estimate_percent_followers(this.__wbg_ptr,t)}estimate_average_speed_sf(t,n,_,s,o,g){try{const m=r.__wbindgen_add_to_stack_pointer(-16);r.wasmtwolanehighways_estimate_average_speed_sf(m,this.__wbg_ptr,t,n,_,s,o,g);var c=w()[m/4+0],u=w()[m/4+1],d=p(c,u).slice();return r.__wbindgen_free(c,u*8,8),d}finally{r.__wbindgen_add_to_stack_pointer(16)}}estimate_percent_followers_sf(t,n,_){return r.wasmtwolanehighways_estimate_percent_followers_sf(this.__wbg_ptr,t,n,_)}determine_follower_density_pl(t){try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.wasmtwolanehighways_determine_follower_density_pl(o,this.__wbg_ptr,t);var n=w()[o/4+0],_=w()[o/4+1],s=p(n,_).slice();return r.__wbindgen_free(n,_*8,8),s}finally{r.__wbindgen_add_to_stack_pointer(16)}}determine_follower_density_pc_pz(t){return r.wasmtwolanehighways_determine_follower_density_pc_pz(this.__wbg_ptr,t)}determine_adjustment_to_follower_density(t){return r.wasmtwolanehighways_determine_adjustment_to_follower_density(this.__wbg_ptr,t)}determine_segment_los(t,n,_){const s=r.wasmtwolanehighways_determine_segment_los(this.__wbg_ptr,t,n,_);return String.fromCodePoint(s)}determine_facility_los(t,n){const _=r.wasmtwolanehighways_determine_facility_los(this.__wbg_ptr,t,n);return String.fromCodePoint(_)}}async function rt(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(_){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",_);else throw _}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function _t(){const e={};return e.wbg={},e.wbg.__wbg_get_bd8e338fbd5f5cc8=function(t,n){const _=i(t)[n>>>0];return a(_)},e.wbg.__wbg_length_cd7af8117672b8b8=function(t){return i(t).length},e.wbg.__wbg_new_16b304a2cfa7ff4a=function(){const t=new Array;return a(t)},e.wbg.__wbindgen_number_new=function(t){return a(t)},e.wbg.__wbindgen_object_drop_ref=function(t){b(t)},e.wbg.__wbindgen_is_function=function(t){return typeof i(t)=="function"},e.wbg.__wbindgen_is_object=function(t){const n=i(t);return typeof n=="object"&&n!==null},e.wbg.__wbg_next_40fc327bfc8770e6=function(t){const n=i(t).next;return a(n)},e.wbg.__wbg_next_196c84450b364254=function(){return W(function(t){const n=i(t).next();return a(n)},arguments)},e.wbg.__wbindgen_string_new=function(t,n){const _=M(t,n);return a(_)},e.wbg.__wbindgen_bigint_get_as_i64=function(t,n){const _=i(n),s=typeof _=="bigint"?_:void 0;X()[t/8+1]=h(s)?BigInt(0):s,w()[t/4+0]=!h(s)},e.wbg.__wbindgen_debug_string=function(t,n){const _=I(i(n)),s=E(_,r.__wbindgen_malloc,r.__wbindgen_realloc),o=l;w()[t/4+1]=o,w()[t/4+0]=s},e.wbg.__wbindgen_throw=function(t,n){throw new Error(M(t,n))},e.wbg.__wbindgen_memory=function(){const t=r.memory;return a(t)},e.wbg.__wbindgen_string_get=function(t,n){const _=i(n),s=typeof _=="string"?_:void 0;var o=h(s)?0:E(s,r.__wbindgen_malloc,r.__wbindgen_realloc),g=l;w()[t/4+1]=g,w()[t/4+0]=o},e.wbg.__wbg_done_298b57d23c0fc80c=function(t){return i(t).done},e.wbg.__wbg_value_d93c65011f51a456=function(t){const n=i(t).value;return a(n)},e.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return a(Symbol.iterator)},e.wbg.__wbg_get_e3c254076557e348=function(){return W(function(t,n){const _=Reflect.get(i(t),i(n));return a(_)},arguments)},e.wbg.__wbg_call_27c0f87801dedf93=function(){return W(function(t,n){const _=i(t).call(i(n));return a(_)},arguments)},e.wbg.__wbg_new_72fb9a18b5ae2624=function(){const t=new Object;return a(t)},e.wbg.__wbindgen_number_get=function(t,n){const _=i(n),s=typeof _=="number"?_:void 0;O()[t/8+1]=h(s)?0:s,w()[t/4+0]=!h(s)},e.wbg.__wbindgen_object_clone_ref=function(t){const n=i(t);return a(n)},e.wbg.__wbindgen_is_undefined=function(t){return i(t)===void 0},e.wbg.__wbg_isArray_2ab64d95e09ea0ae=function(t){return Array.isArray(i(t))},e.wbg.__wbg_push_a5b05aedc7234f9f=function(t,n){return i(t).push(i(n))},e.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(t){let n;try{n=i(t)instanceof ArrayBuffer}catch{n=!1}return n},e.wbg.__wbg_isSafeInteger_f7b04ef02296c4d2=function(t){return Number.isSafeInteger(i(t))},e.wbg.__wbg_buffer_12d079cc21e14bdb=function(t){const n=i(t).buffer;return a(n)},e.wbg.__wbg_new_63b92bc8671ed464=function(t){const n=new Uint8Array(i(t));return a(n)},e.wbg.__wbg_set_a47bac70306a19a7=function(t,n,_){i(t).set(i(n),_>>>0)},e.wbg.__wbg_length_c20a40f15020d68a=function(t){return i(t).length},e.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(t){let n;try{n=i(t)instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbg_wasmsubsegment_unwrap=function(t){return T.__unwrap(b(t))},e.wbg.__wbg_wasmsegment_unwrap=function(t){return R.__unwrap(b(t))},e.wbg.__wbindgen_error_new=function(t,n){const _=new Error(M(t,n));return a(_)},e.wbg.__wbindgen_jsval_loose_eq=function(t,n){return i(t)==i(n)},e.wbg.__wbindgen_boolean_get=function(t){const n=i(t);return typeof n=="boolean"?n?1:0:2},e.wbg.__wbindgen_bigint_from_u64=function(t){const n=BigInt.asUintN(64,t);return a(n)},e.wbg.__wbg_getwithrefkey_15c62c2b8546208d=function(t,n){const _=i(t)[i(n)];return a(_)},e.wbg.__wbindgen_in=function(t,n){return i(t)in i(n)},e.wbg.__wbindgen_is_bigint=function(t){return typeof i(t)=="bigint"},e.wbg.__wbindgen_jsval_eq=function(t,n){return i(t)===i(n)},e.wbg.__wbg_set_1f9b04f170055d33=function(){return W(function(t,n,_){return Reflect.set(i(t),i(n),i(_))},arguments)},e}function st(e,t){return r=e.exports,it.__wbindgen_wasm_module=t,v=null,j=null,A=null,S=null,y=null,r}async function it(e){if(r!==void 0)return r;typeof e>"u"&&(e="assets/HCM_middleware_bg.wasm");const t=_t();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:_}=await rt(await e,t);return st(n,_)}export{T as W,it as _,R as a,ot as b};
